<section>
    <h2>A ledger</h2>
    <br />
    <img src="assets/ledger.jpeg" />
    <aside class="notes">
A ledger, also known as a "Libro Mastro" in Italian, is a book that keeps track of transactions from one person to the next.
    </aside>
</section>
<section>
    <h2>A transaction</h2>
    <br />
    <div class="transaction" data-title="Transaction">
        <div class="sender">
            <div>Sender</div>
        </div>
        <div class="receiver">
            <div>Receiver</div>
        </div>
        <div class="amount">
            <div>Amount (€)</div>
        </div>
    </div>
    <aside class="notes">
        As a result, we can think of a transaction as a three-field structure:<br />
- a sender<br />
- a receiver<br />
- an amount of money.<br />
<br />
We will now refer to the currency saved in the ledger as they were euro, but in reality in a blockchain they are not.
    </aside>
</section>
<section>
    <h2>Monthly expenses scenario</h2>
    <div class="r-stack">
        <div class="playground --first bg">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
            </div>
            <div class="content" style="grid-area: 1 / 2 / 1 / 2">
                <div class="block --genesis">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <aside class="notes">
                Let's say we have a scenario where 3 coworkers named Mike, Dwight and Jim want to exchange money each other, for the upcoming month expenses.  <br />
Each of them puts up an amount of money for the sake of exchanging them next month and at the end of the month they settle up.
                </aside>
            </div>
            <div class="content" style="grid-area: 2 / 2 / 2 / 2">
                <img class="ledger" src="assets/ledger.jpeg" alt="">
            </div>
        </div>
        <div class="fragment bg playground --second">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --genesis">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <aside class="notes">
                    But There's a catch: they don't trust each other.  
                </aside>
            </div>
            <div class="content" style="grid-area: 2 / 2 / 2 / 2">
                <img class="ledger" src="assets/ledger.jpeg" alt="">
                <span>Centralized = Cannot be trusted</span>
            </div>
        </div>
        <div class="fragment bg playground --third">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --genesis">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <aside class="notes">
                So, instead of using a common **centralized** ledger that could be tampered with when none is watching, they decide to keep each a copy of the ledger.  <br /><br />
They are going to agree on a protocol that would allow them to operate freely using a decentralized ledger.  
                </aside>
            </div>
        </div>
        <div class="fragment bg playground --fourth">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --genesis --small">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <div class="link"></div>
                <div class="transaction --small --populated" data-title="Transaction #1">
                    <div class="sender">
                        <div>Sender</div>
                        <div>Dwight</div>
                    </div>
                    <div class="receiver">
                        <div>Receiver</div>
                        <div>Jim</div>
                    </div>
                    <div class="amount">
                        <div>Amount (€)</div>
                        <div>40€</div>
                    </div>
                    <div class="signature"></div>
                </div>
                <aside class="notes">
When one -say Dwight- wants to send money to someone else -say Jim-, he checks that he has enough money from the initial amount stored in the ledger, he puts the transaction in its own ledger and broadcasts the news to the others, so they can update their ledgers.  <br /><br />
At this point everyone should have the same copy of the ledger.  <br /><br />
Now Jim has its initial amount of money stored in the ledger, plus the amount dwight sent to him.
                </aside>
            </div>
        </div>
        <div class="fragment bg playground --fifth">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --genesis --small">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <div class="link"></div>
                <div class="transaction --small --populated" data-title="Transaction #1">
                    <div class="sender">
                        <div>Sender</div>
                        <div>Dwight</div>
                    </div>
                    <div class="receiver">
                        <div>Receiver</div>
                        <div>Jim</div>
                    </div>
                    <div class="amount">
                        <div>Amount (€)</div>
                        <div>40€</div>
                    </div>
                    <div class="signature"></div>
                </div>
                <div class="link"></div>
                <div class="transaction --small --populated --red" data-title="Transaction #2 (Fake)">
                    <div class="sender">
                        <div>Sender</div>
                        <div>Mike</div>
                    </div>
                    <div class="receiver">
                        <div>Receiver</div>
                        <div>Jim</div>
                    </div>
                    <div class="amount">
                        <div>Amount (€)</div>
                        <div>100€</div>
                    </div>
                    <div class="signature"></div>
                </div>
                <aside class="notes">
What happens if Jim commits a fraud and says to the others that Mike sent him 100€?  <br /><br />
Jim could be accredited with money that Mike didn't allow to send.  <br />
                </aside>
            </div>
        </div>
        <div class="fragment bg playground --sixth">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --genesis --small">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <div class="link"></div>
                <div class="transaction --small --populated" data-title="Transaction #1">
                    <div class="sender">
                        <div>Sender</div>
                        <div>Dwight</div>
                    </div>
                    <div class="receiver">
                        <div>Receiver</div>
                        <div>Jim</div>
                    </div>
                    <div class="amount">
                        <div>Amount (€)</div>
                        <div>40€</div>
                    </div>
                    <div class="signature">
                        <div>Signature</div>
                        <div>zpSgJi1AftuNjlBmRgF3YiBf7KYVmdos347vk0m8z3w=</div>
                    </div>
                </div>
                <aside class="notes">
                To prevent this problem from happening, we use digital signing:  <br />
Every participant in this scenario has a couple of private/public keys, and they use their private key to sign the transaction.
                </aside>
            </div>
        </div>
        <div class="fragment bg playground">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div style="display: flex; height: 100%; flex-direction: column; justify-content: center">
                    <h3>Public key cryptography</h3>
                    <ul style="font-size: .7em; width: 70%; margin: 0 auto">
                        <li>with private key you can sign a document</li>
                        <li>you use its corresponding public key for verification</li>
                        <li>the signer can only be the one with the private key</li>
                        <li>the private key cannot be derived from the public key</li>
                    </ul>
                    <aside class="notes">
                    By the way, I won't dig into public key cryptography, for obvious reasons, but let's summerise by saying that:  <br />
- with a private key you can sign a document<br />
- with its corresponding public key you can verify that the document hasn't been tampered with<br />
- if verification succeeds you are sure that the signer was the one with the private key<br />
- the private key cannot be derived from the public key<br />
- the private key is meant to kept private and the public key is meant to be shared, of course<br />
</aside>
                </div>
            </div>
        </div>
        <div class="fragment bg playground">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --genesis --small">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <div class="link"></div>
                <div class="transaction --small --populated" data-title="Transaction #1">
                    <div class="sender">
                        <div>Sender</div>
                        <div>Dwight</div>
                    </div>
                    <div class="receiver">
                        <div>Receiver</div>
                        <div>Jim</div>
                    </div>
                    <div class="amount">
                        <div>Amount (€)</div>
                        <div>40€</div>
                    </div>
                    <div class="signature">
                        <div>Signature</div>
                        <div>zpSgJi1AftuNjlBmRgF3YiBf7KYVmdos347vk0m8z3w=</div>
                    </div>
                </div>
                <aside class="notes">
                When Mike wants to send money to someone else, he signs the transaction with his private key, so everyone can verify that the transaction has been performed by him, and none could be able to fake the transaction.  <br /><br />
The validity check consists in checking that Mike has enough money and that the signature attached to the transaction is validated by Mike's public key, so he his the rightful sender of the transaction.
                </aside>
            </div>
        </div>
        <div class="fragment bg playground --seventh">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --genesis --small">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <div class="link"></div>
                <div class="transaction --small --populated" data-title="Transaction #1">
                    <div class="sender">
                        <div>Sender</div>
                        <div>Dwight</div>
                    </div>
                    <div class="receiver">
                        <div>Receiver</div>
                        <div>Jim</div>
                    </div>
                    <div class="amount">
                        <div>Amount (€)</div>
                        <div>40€</div>
                    </div>
                    <div class="signature">
                        <div>Signature</div>
                        <div>zpSgJi1AftuNjlBmRgF3YiBf7KYVmdos347vk0m8z3w=</div>
                    </div>
                </div>
                <div class="link"></div>
                <div class="transaction --small --populated --red" data-title="Transaction #2 (Fake)">
                    <div class="sender">
                        <div>Sender</div>
                        <div>Dwight</div>
                    </div>
                    <div class="receiver">
                        <div>Receiver</div>
                        <div>Jim</div>
                    </div>
                    <div class="amount">
                        <div>Amount (€)</div>
                        <div>40€</div>
                    </div>
                    <div class="signature">
                        <div>Signature</div>
                        <div>zpSgJi1AftuNjlBmRgF3YiBf7KYVmdos347vk0m8z3w=</div>
                    </div>
                </div>
                <aside class="notes">
                    Now that Jim is desperate for some free cash, he employs a different strategy: he recalls that Dwight earlier gave him 40 euros and signed for it.<br /><br />
What Jim could do now is recreate the prior legitimate transaction, giving it a verified signature.  
                </aside>
            </div>
        </div>
        <div class="fragment bg playground --eigth">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --genesis --small">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <div class="link"></div>
                <div class="transaction --small --populated --uuid" data-title="Transaction #1">
                    <div class="sender">
                        <div>Sender</div>
                        <div>Dwight</div>
                    </div>
                    <div class="receiver">
                        <div>Receiver</div>
                        <div>Jim</div>
                    </div>
                    <div class="amount">
                        <div>Amount (€)</div>
                        <div>40€</div>
                    </div>
                    <div class="uuid">
                        <div>Identifier</div>
                        <div>1cc14770...</div>
                    </div>
                    <div class="signature">
                        <div>Signature</div>
                        <div>M0o4bx2yk05rpwR0nF0PVo4QLXqj5pI4F0HJ2bouZhs=</div>
                    </div>
                </div>
                <aside class="notes">
                    To fix this problem, we must add a unique identifier to each transaction, which must also be included in the signature.
                </aside>
            </div>
        </div>
        <div class="fragment bg playground --ninth">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
                <div class="mike-baloon">
                    <span>Do you all agree with me?</span>
                    <div class="point"></div>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --genesis --small">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <div class="link"></div>
                <div class="transaction --small --populated --uuid" data-title="Transaction #1">
                    <div class="sender">
                        <div>Sender</div>
                        <div>Dwight</div>
                    </div>
                    <div class="receiver">
                        <div>Receiver</div>
                        <div>Jim</div>
                    </div>
                    <div class="amount">
                        <div>Amount (€)</div>
                        <div>40€</div>
                    </div>
                    <div class="uuid">
                        <div>Identifier</div>
                        <div>1cc14770...</div>
                    </div>
                    <div class="signature">
                        <div>Signature</div>
                        <div>M0o4bx2yk05rpwR0nF0PVo4QLXqj5pI4F0HJ2bouZhs=</div>
                    </div>
                </div>
                <aside class="notes">
                    This protocol still has a major flaw:  <br /><br />
Everyone has its own copy of the ledger, but how do you get everyone to agree on which ledger is correct?  <br /><br />
How can Mike be sure that everyone agreed to and received a transaction when he receives notice of one?
                </aside>
            </div>
        </div>
        <div class="fragment bg playground --tenth">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2; display: flex; flex-direction: column; align-items: center; justify-content: center">
                <div class="r-stack">
                    <div>
                        <h3>Proof of work</h3>
                        <aside class="notes">
                            The original Bitcoin whitepaper address this issue and proposes proof of work as a solution.  <br /><br />
It consists in every single peer in the system trusting the transactions with the most computational work put into them.  
                        </aside>
                    </div>
                    <div class="fragment bg">
                        <h3>Proof of work</h3>
                        <div style="font-size: .7em">
                            <div style="text-align: left; opacity: .6">repeat:</div>
                            <div style="text-align: left">SHA256(DATA) -> HASH</div>
                            <div style="text-align: left; opacity: .6">until:</div>
                            <div style="text-align: left">
                                resulting hash is < network difficulty
                            </div>
                        </div>
                        <aside class="notes">
                            Scanning for a value that, when hashed, such as with SHA-256, begins with a number of zero bits is used as proof-of-work.<br /><br />
The average amount of work required is proportional to the number of zero bits required, and may be validated with a single hash.
                        </aside>
                    </div>
                </div>
            </div>
        </div>
        <div class="fragment bg playground --eleventh">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --genesis --small">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <div class="link --xxl --hidden" data-link="1"></div>
                <div class="transaction --small --populated --uuid --nonce --hash" data-title="Transaction #1">
                    <div class="sender">
                        <div>Sender</div>
                        <div>Dwight</div>
                    </div>
                    <div class="receiver">
                        <div>Receiver</div>
                        <div>Jim</div>
                    </div>
                    <div class="amount">
                        <div>Amount (€)</div>
                        <div>40€</div>
                    </div>
                    <div class="uuid">
                        <div>Identifier</div>
                        <div>1cc14770...</div>
                    </div>
                    <div class="signature">
                        <div>Signature</div>
                        <div>M0o4bx2yk05rpwR0nF0PVo4QLXqj5pI4F0HJ2bouZhs=</div>
                    </div>
                    <div class="nonce">
                        <div>Nonce</div>
                        <div data-nonce>1</div>
                    </div>
                    <div class="hash" data-anim data-link=".playground.--eleventh [data-link='1']">
                        <div>Hash</div>
                        <div data-content class="ellipsis">dc460da4ad72c482231e28e688e01f2778...</div>
                    </div>
                </div>
                <aside class="notes">
                    We implement proof-of-work in our system by incrementing a value called nonce in each transaction until a value is found that provides the entire transaction's hash the needed zero bits.<br /><br />
The transaction cannot be modified without redoing the work once the CPU effort has been spent to satisfy the proof-of-work.<br /><br />
Clients are incentivized to compete for the proper amount of computing effort by a compensation provided by the system, similar to gold miners spending resources to add gold to circulation.<br /><br />
Additionally, transaction fees can be used to fund the incentive: if a transaction's output is less than its input value, the difference can be viewed of as a transaction fee that is added to the incentives.
                </aside>
            </div>
        </div>
        <div class="fragment bg playground --twelfth">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --genesis --small">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <div class="link" data-link="1"></div>
                <div class="transaction --small --populated --nonce --hash" data-title="Transaction #1">
                    <div class="nonce">
                        <div>Nonce</div>
                        <div data-nonce>1341</div>
                    </div>
                    <div class="hash" data-anim data-link=".playground.--twelfth [data-link='1']">
                        <div>Hash</div>
                        <div data-content class="ellipsis">dd46c3eebb1884ff3b5258c0a2fc9398e560a29e0780d4b53869b6254aa46a96</div>
                    </div>
                    <div class="sender">
                        <div>Sender</div>
                        <div>Dwight</div>
                    </div>
                    <div class="receiver">
                        <div>Receiver</div>
                        <div>Jim</div>
                    </div>
                    <div class="amount">
                        <div>Amount (€)</div>
                        <div>40€</div>
                    </div>
                    <div class="signature">
                        <div>Signature</div>
                        <div>M0o4bx2yk05rpwR0nF0PVo4QLXqj5pI4F0HJ2bouZhs=</div>
                    </div>
                </div>
                <aside class="notes">
Now let's start forming a blockchain out of our linked transactions.<br /><br />
First and foremost, we may claim that because the transaction's hash should be quite unique, we can use it as the transaction's identifier.
                </aside>
            </div>
        </div>
        <div class="fragment bg playground --thirteenth">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --genesis --small">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <div class="link" data-link="1"></div>
                <div class="block">
                    <div class="header">
                        <div>Block #1</div>
                        <div class="header-body">
                            <div class="nonce">
                                <div>Nonce</div>
                                <div data-nonce>1341</div>
                            </div>
                            <div class="hash" data-anim data-link=".playground.--twelfth [data-link='1']">
                                <div>Hash</div>
                                <div data-content class="ellipsis">dd46c3eebb1884ff3b5258c0a2fc9398e560a29e0780d4b53869b6254aa46a96</div>
                            </div>
                        </div>
                    </div>
                    <div class="body">
                        <div class="column">
                            <div class="transaction --populated" data-title="Transaction #1">
                                <div class="sender">
                                    <div>Sender</div>
                                    <div>Dwight</div>
                                </div>
                                <div class="receiver">
                                    <div>Receiver</div>
                                    <div>Jim</div>
                                </div>
                                <div class="amount">
                                    <div>Amount (€)</div>
                                    <div>40€</div>
                                </div>
                                <div class="signature">
                                    <div>Signature</div>
                                    <div>M0o4bx2yk05rpwR0nF0PVo4QLXqj5pI4F0HJ2bouZhs=</div>
                                </div>
                            </div>
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #2">
                                <div class="mock-content">...</div>
                            </div>
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #3">
                                <div class="mock-content">...</div>
                            </div>
                        </div>
                    </div>
                </div>
                <aside class="notes">
                    After that, we can group multiple transactions into a single unit known as a block.<br /><br />
A block is just a list of transactions with a header.<br /><br />
The header contains the hash computed for all transactions, as well as the nonce and some other relevant information that we will see shortly.
                </aside>
            </div>
        </div>
        <div class="fragment bg playground --fourteenth">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --genesis --small">
                    <div class="header">Initial amount</div>
                    <div class="body">
                        <div>Mike: 100€</div>
                        <div>Dwigth: 100€</div>
                        <div>Jim: 100€</div>
                    </div>
                </div>
                <div class="link" data-link="1"></div>
                <div class="block --small">
                    <div class="header">
                        <div>Block #1</div>
                        <div class="header-body">
                            <div class="nonce">
                                <div>Nonce</div>
                                <div data-nonce>1341</div>
                            </div>
                            <div class="hash" data-anim data-link=".playground.--twelfth [data-link='1']">
                                <div>Hash</div>
                                <div data-content class="ellipsis">dd46c3eebb1884ff3b5258c0a2fc9398e560a29e0780d4b53869b6254aa46a96</div>
                            </div>
                        </div>
                    </div>
                    <div class="body">
                        <div class="column">
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #1">
                                <div class="mock-content">...</div>
                            </div>
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #2">
                                <div class="mock-content">...</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="link" data-link="2"></div>
                <div class="block --small">
                    <div class="header">
                        <div>Block #2</div>
                        <div class="header-body">
                            <div class="nonce">
                                <div>Nonce</div>
                                <div data-nonce>9991</div>
                            </div>
                            <div class="hash" data-anim data-link=".playground.--twelfth [data-link='1']">
                                <div>Hash</div>
                                <div data-content class="ellipsis">e7ecebbc590bc88b3761fa6cd03d749f87463dabb67021a5c6768c25ec68b3f2</div>
                            </div>
                        </div>
                    </div>
                    <div class="body">
                        <div class="column">
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #1">
                                <div class="mock-content">...</div>
                            </div>
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #2">
                                <div class="mock-content">...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="fragment bg playground --fifteenth">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --small">
                    <div class="header">
                        <div>Genesis block</div>
                        <div class="header-body">
                            <div class="nonce">
                                <div>Nonce</div>
                                <div data-nonce>8943</div>
                            </div>
                            <div class="hash" data-anim data-link=".playground.--twelfth [data-link='1']">
                                <div>Hash</div>
                                <div data-content class="ellipsis">5322fecfc92a5e3248a297a3df3eddfb9bd9049504272e4f572b87fa36d4b3bd</div>
                            </div>
                        </div>
                    </div>
                    <div class="body">
                        <div class="column">
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #1">
                                <div class="mock-content">...</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="link" data-link="1"></div>
                <div class="block --small">
                    <div class="header">
                        <div>Block #1</div>
                        <div class="header-body">
                            <div class="nonce">
                                <div>Nonce</div>
                                <div data-nonce>1341</div>
                            </div>
                            <div class="hash" data-anim data-link=".playground.--twelfth [data-link='1']">
                                <div>Hash</div>
                                <div data-content class="ellipsis">dd46c3eebb1884ff3b5258c0a2fc9398e560a29e0780d4b53869b6254aa46a96</div>
                            </div>
                        </div>
                    </div>
                    <div class="body">
                        <div class="column">
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #1">
                                <div class="mock-content">...</div>
                            </div>
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #2">
                                <div class="mock-content">...</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="link" data-link="2"></div>
                <div class="block --small">
                    <div class="header">
                        <div>Block #2</div>
                        <div class="header-body">
                            <div class="nonce">
                                <div>Nonce</div>
                                <div data-nonce>9991</div>
                            </div>
                            <div class="hash" data-anim data-link=".playground.--twelfth [data-link='1']">
                                <div>Hash</div>
                                <div data-content class="ellipsis">e7ecebbc590bc88b3761fa6cd03d749f87463dabb67021a5c6768c25ec68b3f2</div>
                            </div>
                        </div>
                    </div>
                    <div class="body">
                        <div class="column">
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #1">
                                <div class="mock-content">...</div>
                            </div>
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #2">
                                <div class="mock-content">...</div>
                            </div>
                        </div>
                    </div>
                </div>
                <aside class="notes">
                    The first block that gives our parties the initial amount of currencies is a special block called **genesis block**, which contains only a single transaction called **coinbase transaction**, and is hardcoded into the Bitcoin client.  
                </aside>
            </div>
        </div>
        <div class="fragment bg playground --sixteenth">
            <div class="actor mike" style="grid-area: 1 / 1 / 1 / 1">
                <img src="assets/actors/mike.png" alt="Prison Mike">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor dwight" style="grid-area: 2 / 3 / 2 / 3">
                <img src="assets/actors/dwight.png" alt="Dwight">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="actor jim" style="grid-area: 3 / 1 / 3 / 1">
                <img src="assets/actors/jim.png" alt="Jim">
                <div class="ledger-icon">
                    <span>Ledger</span>
                </div>
            </div>
            <div class="content" style="grid-area: 1 / 2 / 4 / 2">
                <div class="block --small">
                    <div class="header">
                        <div>Genesis block</div>
                        <div class="header-body">
                            <div class="nonce">
                                <div>Nonce</div>
                                <div data-nonce>8943</div>
                            </div>
                            <div class="hash" data-anim data-link=".playground.--twelfth [data-link='1']">
                                <div>Hash</div>
                                <div data-content class="ellipsis">5322fecfc92a5e3248a297a3df3eddfb9bd9049504272e4f572b87fa36d4b3bd</div>
                            </div>
                        </div>
                    </div>
                    <div class="body">
                        <div class="column">
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #1">
                                <div class="mock-content">...</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="link --lg" data-link="1"></div>
                <div class="block --small --previous-hash">
                    <div class="header">
                        <div>Block #1</div>
                        <div class="header-body">
                            <div class="previous-hash">
                                <div>Previous block hash</div>
                                <div>5322fecfc92a5e3248a297a3df3eddfb9bd9049504272e4f572b87fa36d4b3bd</div>
                            </div>
                            <div class="nonce">
                                <div>Nonce</div>
                                <div data-nonce>1341</div>
                            </div>
                            <div class="hash" data-anim data-link=".playground.--twelfth [data-link='1']">
                                <div>Hash</div>
                                <div data-content class="ellipsis">dd46c3eebb1884ff3b5258c0a2fc9398e560a29e0780d4b53869b6254aa46a96</div>
                            </div>
                        </div>
                    </div>
                    <div class="body">
                        <div class="column">
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #1">
                                <div class="mock-content">...</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="link --lg" data-link="2"></div>
                <div class="block --small --previous-hash">
                    <div class="header">
                        <div>Block #2</div>
                        <div class="header-body">
                            <div class="previous-hash">
                                <div>Previous block hash</div>
                                <div>dd46c3eebb1884ff3b5258c0a2fc9398e560a29e0780d4b53869b6254aa46a96</div>
                            </div>
                            <div class="nonce">
                                <div>Nonce</div>
                                <div data-nonce>9991</div>
                            </div>
                            <div class="hash" data-anim data-link=".playground.--twelfth [data-link='1']">
                                <div>Hash</div>
                                <div data-content class="ellipsis">e7ecebbc590bc88b3761fa6cd03d749f87463dabb67021a5c6768c25ec68b3f2</div>
                            </div>
                        </div>
                    </div>
                    <div class="body">
                        <div class="column">
                            <div class="transaction --small --populated --in-block --mock" data-title="Transaction #1">
                                <div class="mock-content">...</div>
                            </div>
                        </div>
                    </div>
                </div>
                <aside class="notes">
                    This entire structure is called blockchain because ever single block contains a reference to the previous block into its header, so they form a chain of blocks.  
                </aside>
            </div>
        </div>
    </div>
</section>

<style>
    .block {
        display: inline-block;
        flex-direction: column;
        font-size: .6em;
        padding: .2em;
        border: 1px solid white;
        border-radius: .2em;
        min-width: 300px;
    }

    .block.--small {
        font-size: .5em;
    }

    .block>.header {
        min-height: .5em;
    }

    .block>.header>.header-body {
        font-size: .9em;
        display: grid;
        grid-template-columns: repeat(3, 1fr);
    }
    .block>.header>.header-body>div {
        padding: .2em;
    }
    .block>.header>.header-body>div>div:first-child {
        font-size: .9em;
        opacity: .7;
    }
    .block>.header>div:first-child {
        border-bottom: 1px solid white;
    }

    .block>.header>.header-body>.hash {
        grid-area: 1 / 2 / 1 / 4;
        border-left: 1px solid white;
    }

    .block>.header>.header-body>.hash>[data-content] {
        max-width: 330px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        display: block;
    }

    .block>.body {
        display: flex;
    }
    .block>.body>.column {
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: stretch;
    }
    .block>.body>div:not(:last-child){
        border-right: 1px solid white;
    }
    .block>.body>div{
        padding: .2em;
        vertical-align: middle;
    }

    .block.--previous-hash .previous-hash {
        grid-area: 1 / 1 / 1 / 4;
        border-bottom: 1px solid white;
    }

    .block.--previous-hash>.header>.header-body>.hash {
        grid-area: 2 / 2 / 2 / 4;
        border-left: 1px solid white;
    }

    .link {
        height: .5em;
        width: 1px;
        border-right: 2px dashed white;
        margin: 0 auto;
    }

    .link.--lg {
        height: 1em;
    }

    .link.--xxl {
        height: 1.5em;
    }
    .link.--hidden {
        opacity: 0;
        transition: opacity 1s linear;
    }
</style>

<style>
    .playground {
        z-index: 2;
        height: calc(var(--slide-height) - 100px);
        width: 100%;
        display: grid;
        grid-template-columns: 1fr 3fr 1fr;
    }
    .playground.--first > .content > .ledger {
        height: 5em;
    }

    .actor {
        height: 4em;
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: stretch;
    }
    .actor:before {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        margin: 0 auto;
        content: '';
    }
    .actor.mike:before {
        left: -.8em;
    }
    .actor.mike:before {
        content: 'MIKE';
    }
    .actor.dwight:before {
        content: 'DWIGHT';
    }
    .actor.jim:before {
        content: 'JIM';
        top: -.7em;
        z-index: 1;
    }
    .actor.jim {
        padding-top: 0;
        height: 6em;
    }
    .actor.jim>img{
        position: relative;
        top: -1.5em;
    }
</style>

<style>
    .playground.--second > .content {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .playground.--second > .content > .ledger {
        max-height: 5em;
    }
    .playground.--second > .content > span {
        -webkit-text-stroke: 1px red;
    }
</style>

<style>
    .playground .actor .ledger-icon {
        position: relative;
        width: 100%;

        border: 1px solid white;
        border-radius: 5px;

        display: flex;
        align-items: center;
        justify-content: center;
    }
    .playground .actor .ledger-icon>span{
        font-size: .6em;
        text-transform: uppercase;
        display: inline-block;
        margin-right: .5em;
    }
    .playground .actor .ledger-icon:after {
        content: '';

        height: 1.3em;
        width: 1.3em;

        background-image: url('assets/ledger.png');
        background-repeat: no-repeat;
        background-position: left;
        background-size: auto 100%;
        filter: invert(1);
    }

    .playground .actor .money-amount {

    }

    .playground .actor.mike .ledger-icon {
        bottom: -1em;
        left: -.4em;
    }

    .playground .actor.dwight .ledger-icon {
        bottom: -.8em;
    }

    .playground .actor.jim .ledger-icon {
        bottom: 1.4em;
    }
</style>

Notes:
A ledger, also known as a "Libro Mastro" in Italian, is a book that keeps track of transactions from one person to the next.

As a result, we can think of a transaction as a three-field structure:
- a sender
- a receiver
- an amount of money

We will now refer to the currency saved in the ledger as they were euro, but in reality in a blockchain they are not.

Let's say we have a scenario where 3 coworkers named Mike, Dwight and Jim want to exchange money each other, for the upcoming month expenses.  
Each of them puts up an amount of money for the sake of exchanging them next month and at the end of the month they settle up.  

But There's a catch: they don't trust each other.  

So, instead of using a common **centralized** ledger that could be tampered with when none is watching, they decide to keep each a copy of the ledger.  
They are going to agree on a protocol that would allow them to operate freely using a decentralized ledger.  

When one -say Dwight- wants to send money to someone else -say Jim-, he checks that he has enough money from the initial amount stored in the ledger, he puts the transaction in its own ledger and broadcasts the news to the others, so they can update their ledgers.  
At this point everyone should have the same copy of the ledger.  

Now Jim has its initial amount of money stored in the ledger, plus the amount dwight sent to him.

What happens if Jim commits a fraud and says to the others that Mike sent him 100€?  
Jim could be accredited with money that Mike didn't allow to send.  

To prevent this problem from happening, we use digital signing:  
Every participant in this scenario has a couple of private/public keys, and they use their private key to sign the transaction.  

By the way, I won't delve into public key cryptography, for obvious reasons, but let's summerise by saying that:  
- with a private key you can sign a document
- with its corresponding public key you can verify that the document hasn't been tampered with
- if verification succeeds you are sure that the signer was the one with the private key
- the private key cannot be derived from the public key
- the private key is meant to kept private and the public key is meant to be shared, of course

When Mike wants to send money to someone else, he signs the transaction with his private key, so everyone can verify that the transaction has been performed by him, and none could be able to fake the transaction.  
The validity check consists in checking that Mike has enough money and that the signature attached to the transaction is validated by Mike's public key, so he his the rightful sender of the transaction.

Now that Jim is desperate for some free cash, he employs a different strategy: he recalls that Dwight earlier gave him 40 euros and signed for it.
What Jim could do now is recreate the prior legitimate transaction, giving it a verified signature.  

To fix this problem, we must add a unique identifier to each transaction, which must also be included in the signature.

This protocol still has a major flaw:  
Everyone has its own copy of the ledger, but how do you get everyone to agree on which ledger is correct?  
How can Mike be sure that everyone agreed to and received a transaction when he receives notice of one?

The original Bitcoin whitepaper address this issue and proposes proof of work as a solution.  
It consists in every single peer in the system trusting the transactions with the most computational work put into them.  

Scanning for a value that, when hashed, such as with SHA-256, begins with a number of zero bits is used as proof-of-work.

The average amount of work required is proportional to the number of zero bits required, and may be validated with a single hash.

We implement proof-of-work in our system by incrementing a value called nonce in each transaction until a value is found that provides the entire transaction's hash the needed zero bits.

The transaction cannot be modified without redoing the work once the CPU effort has been spent to satisfy the proof-of-work.

Clients are incentivized to compete for the proper amount of computing effort by a compensation provided by the system, similar to gold miners spending resources to add gold to circulation.

Additionally, transaction fees can be used to fund the incentive: if a transaction's output is less than its input value, the difference can be viewed of as a transaction fee that is added to the incentives.

Now let's start forming a blockchain out of our linked transactions.

First and foremost, we may claim that because the transaction's hash should be quite unique, we can use it as the transaction's identifier.

After that, we can group multiple transactions into a single unit known as a block.
A block is just a list of transactions with a header.
The header contains the hash computed for all transactions, as well as the nonce and some other relevant information that we will see shortly.

The first block that gives our parties the initial amount of currencies is a special block called **genesis block**, which contains only a single transaction called **coinbase transaction**, and is hardcoded into the Bitcoin client.  

This entire structure is called blockchain because ever single block contains a reference to the previous block into its header, so they form a chain of blocks.  